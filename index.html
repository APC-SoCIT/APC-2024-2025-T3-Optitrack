<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optitrack - Overtime Management</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-form">
            <h1>Optitrack Login</h1>
            <form id="loginForm">
                <select id="roleSelect" required>
                    <option value="">Select Role</option>
                    <option value="employee">Employee</option>
                    <option value="teamleader">Team Leader</option>
                    <option value="manager">Team Manager</option>
                    <option value="operationalmanager">Operational Manager</option>
                </select>
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="container" style="display: none;">
        <header>
            <h1>Optitrack</h1>
            <div class="user-info">
                <span id="currentUser">Employee</span>
                <button id="profileBtn" onclick="showProfile()" style="display: none;">Profile</button>
                <button id="analyticsBtn" onclick="showAnalytics()" style="display: none;">Analytics</button>
                <button id="recommendationBtn" onclick="showRecommendations()"
                    style="display: none;">Recommendations</button>
                <button id="workflowBtn" onclick="showWorkflow()" style="display: none;">Workflow</button>
                <button id="logout" onclick="logout()">Logout</button>
            </div>
        </header>

        <main>
            <!-- Employee View -->
            <div id="employeeView" class="view active">
                <h2>File Overtime Request</h2>
                <form id="overtimeForm">
                    <input type="date" id="overtimeDate" required>
                    <input type="number" id="overtimeHours" placeholder="Hours" min="0.5" step="0.5" required>
                    <textarea id="overtimeReason" placeholder="Reason for overtime" required></textarea>
                    <button type="submit">Submit Request</button>
                </form>

                <h3>My Tasks</h3>
                <form id="taskForm">
                    <input type="date" id="taskDate" required>
                    <input type="time" id="taskTime" required>
                    <input type="number" id="taskHours" placeholder="Hours spent" min="0.1" step="0.1" required>
                    <textarea id="taskDetails" placeholder="Task details" required></textarea>
                    <button type="submit">Add Task</button>
                </form>
                <div id="employeeTasks"></div>

                <h3>My Overtime Requests</h3>
                <div class="filter-controls">
                    <input type="date" id="dateFrom" placeholder="From">
                    <input type="date" id="dateTo" placeholder="To">
                    <button onclick="filterRequests()">Filter</button>
                    <button onclick="clearFilters()">Clear</button>
                </div>
                <div id="employeeRequests"></div>
                <div id="pagination"></div>
            </div>

            <!-- Manager View -->
            <div id="managerView" class="view">
                <h2>In Progress Approvals</h2>
                <div class="filter-controls">
                    <input type="date" id="managerDateFrom" placeholder="From">
                    <input type="date" id="managerDateTo" placeholder="To">
                    <button onclick="filterPendingRequests()">Filter</button>
                    <button onclick="clearManagerFilters()">Clear</button>
                </div>
                <div id="pendingRequests"></div>
                <div id="managerPagination"></div>
            </div>

            <!-- Analytics View -->
            <div id="analyticsView" class="view">
                <h2>Overtime Analytics</h2>

                <div class="analytics-section">
                    <h3>Monthly Overtime Hours</h3>
                    <div id="monthlyChart" class="chart"></div>
                </div>

                <div class="analytics-section">
                    <h3>Status Distribution</h3>
                    <div id="statusChart" class="chart"></div>
                </div>

                <div class="analytics-section">
                    <h3>Recent Activity Timeline</h3>
                    <div id="timelineChart" class="timeline"></div>
                </div>

                <button onclick="backToMain()">Back</button>
            </div>

            <!-- Profile View -->
            <div id="profileView" class="view">
                <h2>My Profile</h2>
                <form id="profileForm">
                    <input type="text" id="profileName" placeholder="Full Name" required>
                    <input type="email" id="profileEmail" placeholder="Email" required>
                    <input type="text" id="profileDept" placeholder="Department" required>
                    <button type="submit">Update Profile</button>
                </form>

                <h3>Change Password</h3>
                <form id="passwordForm">
                    <input type="password" id="currentPassword" placeholder="Current Password" required>
                    <input type="password" id="newPassword" placeholder="New Password" required>
                    <input type="password" id="confirmPassword" placeholder="Confirm New Password" required>
                    <button type="submit">Change Password</button>
                </form>

                <button onclick="backToMain()">Back</button>
            </div>

            <!-- Recommendation View -->
            <div id="recommendationView" class="view">
                <h2>Employee Recommendations</h2>

                <h3>Submit Recommendation</h3>
                <form id="recommendationForm">
                    <input type="text" id="recommendeeUsername" placeholder="Employee Username" required>
                    <select id="recommendationType" required>
                        <option value="">Select Recommendation Type</option>
                        <option value="promotion">Promotion</option>
                        <option value="recognition">Recognition</option>
                    </select>
                    <textarea id="recommendationReason"
                        placeholder="Reason for recommendation (based on overtime and task performance)"
                        required></textarea>
                    <button type="submit">Submit Recommendation</button>
                </form>

                <h3>In Progress Recommendations</h3>
                <div id="pendingRecommendations"></div>

                <h3>My Recommendations</h3>
                <div id="myRecommendations"></div>

                <button onclick="backToMain()">Back</button>
            </div>

            <!-- Workflow View -->
            <div id="workflowView" class="view">
                <h2>Workflow Overview</h2>
                <div id="workflowStats"></div>
                <div id="workflowRequests"></div>
                <button onclick="backToMain()">Back</button>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>
